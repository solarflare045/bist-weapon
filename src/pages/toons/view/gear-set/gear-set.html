<div class="box">
  <div class="box-header">
    <h3 class="box-title">{{ title }}</h3>
    <div class="box-tools"  *ngIf="updateEnabled != null">
      <button class="btn btn-flat btn-sm" [class.btn-warning]="updateEnabled" [disabled]="!updateEnabled" (click)="update.next()">
        <i class="fa fa-refresh" [class.fa-spin]="updating"></i>
        Update
      </button>
    </div>
  </div>

  <div class="box-body no-padding">
    <table class="table" [class.table-hover]="canEdit">
      <thead>
        <tr>
          <th class="col-xs-2">Slot</th>
          <th class="col-xs-1">iLvl</th>
          <th class="col-xs-9">Name</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let gear of gears; let i = index;" (click)="editRow({ slot: gear.slotID, gear: gear })">
          <td>{{ gear.slotName }}</td>
          <td>{{ gear.level$ | async }}</td>
          <td>
            <a [appItemLink]="gear">{{ gear.name$ | async }}</a>
            <span *ngIf="!(gear.name$ | async)">&mdash;</span>
            <span class="pull-right" *ngIf="canEdit">
              <i class="fa fa-pencil"></i>
            </span>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
